const fields=["botEnabled","botApiKey","botContext","botUseInvi","botModel","botWelcomeEnabled","botWelcomeMsg"],elements={};function updateUI(){const e=elements.botEnabled.checked;document.getElementById("botSettings").classList.toggle("disabled",!e)}fields.forEach((e=>elements[e]=document.getElementById(e))),chrome.storage.local.get(fields,(e=>{elements.botEnabled.checked=e.botEnabled||!1,elements.botApiKey.value=e.botApiKey||"",elements.botContext.value=e.botContext||"",elements.botUseInvi.checked=e.botUseInvi||!1,elements.botWelcomeEnabled.checked=e.botWelcomeEnabled||!1,elements.botWelcomeMsg.value=e.botWelcomeMsg||"Chào mừng [name]!",e.botModel&&(elements.botModel.value=e.botModel),updateUI()}));const saveChange=(e,t)=>{chrome.storage.local.set({[e]:t})};elements.botEnabled.addEventListener("change",(()=>{saveChange("botEnabled",elements.botEnabled.checked),updateUI()})),elements.botModel.addEventListener("change",(e=>saveChange("botModel",e.target.value))),elements.botApiKey.addEventListener("input",(e=>saveChange("botApiKey",e.target.value))),elements.botContext.addEventListener("input",(e=>saveChange("botContext",e.target.value))),elements.botUseInvi.addEventListener("change",(e=>saveChange("botUseInvi",e.target.checked))),elements.botWelcomeEnabled.addEventListener("change",(e=>saveChange("botWelcomeEnabled",e.target.checked))),elements.botWelcomeMsg.addEventListener("input",(e=>saveChange("botWelcomeMsg",e.target.value)));